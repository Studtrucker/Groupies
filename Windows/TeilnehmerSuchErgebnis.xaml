<Window x:Class="TeilnehmerSuchErgebnis"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Groupies"
        mc:Ignorable="d"
        Title="Gefundene Teilnehmer" Height="450" Width="800">
    <Window.Resources>
        <!-- Gleiche Hintergrund-/Foreground-Farben für ausgewählte und nicht ausgewählte Zeilen -->
        <Style x:Key="DataGridRowFlatStyle" TargetType="DataGridRow">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="White"/>
                    <Setter Property="Foreground" Value="Black"/>
                </Trigger>
                <!-- optional: Fokusanzeige entfernen -->
                <Trigger Property="IsKeyboardFocusWithin" Value="True">
                    <Setter Property="Background" Value="White"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Gleiche Behandlung auf Zellenebene (vermeidet andersfarbige Zellen wenn Zeile selektiert) -->
        <Style x:Key="DataGridCellFlatStyle" TargetType="DataGridCell">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="Transparent"/>
                    <Setter Property="Foreground" Value="Black"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    
    <Grid>
        <DataGrid ItemsSource="{Binding Items}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  CanUserAddRows="False"
                  RowStyle="{StaticResource DataGridRowFlatStyle}"
                  CellStyle="{StaticResource DataGridCellFlatStyle}">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Vorname" Binding="{Binding Teilnehmer.Vorname}" Width="Auto"/>
                <DataGridTextColumn Header="Nachname" Binding="{Binding Teilnehmer.Nachname}" Width="Auto"/>
                <DataGridTextColumn Header="Leistungsstufe" Binding="{Binding Teilnehmer.Leistungsstufe.Benennung}" Width="Auto"/>
                <DataGridTemplateColumn Header="Fundort" Width="*">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock FontFamily="Segoe UI" FontSize="14">
                                <Hyperlink
                                    Command="{Binding DataContext.OpenTargetCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                    CommandParameter="{Binding}" >
                                    <Run Text="{Binding FundortText}" />
                                </Hyperlink>
                            </TextBlock>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Window>
